# SPDX-License-Identifier: (GPL-2.0 OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/remoteproc/mtk,scp.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Mediatek SCP Bindings

maintainers:
  - Tinghan Shen <tinghan.shen@mediatek.com>

description:
  This binding provides support for ARM Cortex M4 Co-processor found on some
  Mediatek SoCs.

properties:
  compatible:
    enum:
      - mediatek,mt8183-scp
      - mediatek,mt8192-scp
      - mediatek,mt8195-scp

  reg:
    description: |
      Should contain the address ranges for memory regions SRAM and CFG,
    maxItems: 2

  reg-names:
    description: |
      Contains the corresponding names for the two memory regions. These
      should be named "sram", "cfg".

  clocks:
    description: |
        Clock for co-processor (see ../clock/clock-bindings.txt).
        Required by mt8183 and mt8192.
    maxItems: 1

  clock-names:
    description: |
      Contains the corresponding name for the clock. This should be
      named "main". Required by mt8183 and mt8192.

required:
  - compatible
  - reg
  - reg-names

patternProperties:
  ".*":
    if:
      type: object
    then:
      description:
        Subnodes of the SCP represent rpmsg devices. The names of the devices
        are not important. The properties of these nodes are defined by the
        individual bindings for the rpmsg devices.

      properties:
        mtk,rpmsg-name:
          description:
            Contains the name for the rpmsg device. Used to match
            the subnode to rpmsg device announced by SCP.

      required:
        - mtk,rpmsg-name

additionalProperties: true

examples:
  - |
    #include <dt-bindings/clock/mt8183-clk.h>

    soc {
        #address-cells = <2>;
        #size-cells = <2>;
        scp: scp@10500000 {
            compatible = "mediatek,mt8183-scp";
            reg = <0 0x10500000 0 0x80000>,
                  <0 0x105c0000 0 0x5000>;
            reg-names = "sram", "cfg";
            clocks = <&infracfg CLK_INFRA_SCPSYS>;
            clock-names = "main";
        };
    };
