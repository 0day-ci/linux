# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/virtio/virtio-device.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Virtio device bindings

maintainers:
  - Viresh Kumar <viresh.kumar@linaro.org>

description:
  These bindings are applicable to virtio devices irrespective of the bus they
  are bound to, like mmio or pci.

# We need a select here so we don't match all nodes with 'virtio,mmio'
properties:
  $nodename:
    pattern: '^[a-z0-9]+-virtio(-[a-z0-9]+)?$'
    description: |
      Exactly one node describing the virtio device. The name of the node isn't
      significant but its phandle can be used to by a user of the virtio device.

  compatible:
    pattern: "^virtio,[0-9a-f]+$"
    description: Virtio device nodes.
      "virtio,DID", where DID is the virtio device id. The textual
      representation of DID shall be in lower case hexadecimal with leading
      zeroes suppressed.

required:
  - compatible

additionalProperties: true

examples:
  - |
    virtio@3000 {
        compatible = "virtio,mmio";
        reg = <0x3000 0x100>;
        interrupts = <43>;

        i2c-virtio {
            compatible = "virtio,22";
        };
    };
...
