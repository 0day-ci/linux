# SPDX-License-Identifier: (GPL-2.0 OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/ufs/cdns,ufshc.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Cadence Universal Flash Storage (UFS) Controller

maintainers:
  - Dhananjay Kangude <dkangude@cadence.com>

description:
  UFS nodes are defined to describe on-chip Cadence UFS host controllers.
  Each UFS controller instance should have its own node.

properties:
  compatible:
    oneOf:
      - items:
          - enum:
              - cdns,ufshc
              - cdns,ufshc-m31-16nm
          - const: jedec,ufs-2.0
      - items:
          - const: jedec,ufs-2.0

  reg:
    items:
      - description: UFS controller register set

  interrupts:
    maxItems: 1

  clocks:
    minItems: 1
    items:
      - description: Description of core_clk
      - description: Description of phy_clk
      - description: Description of ref_clk

  clock-names:
    minItems: 1
    items:
      - const: core_clk
      - const: phy_clk
      - const: ref_clk

  freq-table-hz:
    $ref: /schemas/types.yaml#/definitions/uint64-matrix
    description:
      Clock frequency table.
      See the ufshcd-pltfrm.txt for details.

  dma-coherent: true

required:
  - compatible
  - reg
  - interrupts
  - freq-table-hz
  - clocks
  - clock-names

additionalProperties: false
unevaluatedProperties: false

examples:
  - |
    #include <dt-bindings/interrupt-controller/irq.h>
    #include <dt-bindings/interrupt-controller/arm-gic.h>

    ufs: ufs@fd030000 {
         compatible = "cdns,ufshc", "jedec,ufs-2.0";
         reg = <0xfd030000 0x10000>;
         interrupts = <0 1 IRQ_TYPE_LEVEL_HIGH>;
         freq-table-hz = <0 0>;
         clocks = <&ufs_core_clk>;
         clock-names = "core_clk";
    };

