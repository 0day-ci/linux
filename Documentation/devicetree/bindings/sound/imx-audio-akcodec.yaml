# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/sound/imx-audio-akcodec.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: NXP i.MX audio complex with AK4458/AK5558/AK5552/AK4497 codec

maintainers:
  - Shengjiu Wang <shengjiu.wang@nxp.com>

properties:
  compatible:
    enum:
      - fsl,imx8mq-audio-ak4458
      - fsl,imx8mq-audio-ak4497
      - fsl,imx8mq-audio-ak5558
      - fsl,imx-audio-ak4497
      - fsl,imx-audio-ak4458
      - fsl,imx-audio-ak5558
      - fsl,imx-audio-ak5552

  model:
    $ref: /schemas/types.yaml#/definitions/string
    description: User specified audio sound card name

  audio-cpu:
    $ref: /schemas/types.yaml#/definitions/phandle
    description: The phandle of a CPU DAI controller

  audio-codec:
    description: The phandle of Codec DAI controllers, there are two
                 controllers maximum.

  audio-asrc:
    $ref: /schemas/types.yaml#/definitions/phandle
    description: The phandle of ASRC. It can be absent if there's no
                 need to add ASRC support via DPCM.

  fsl,tdm:
    $ref: /schemas/types.yaml#/definitions/flag
    description: |
      This is a boolean property. If present, the TDM mode is enabled.

required:
  - compatible
  - model
  - audio-cpu
  - audio-codec

additionalProperties: false

examples:
  - |
    sound-ak4458 {
        compatible = "fsl,imx-audio-ak4458";
        model = "ak4458-audio";
        audio-cpu = <&sai1>;
        audio-codec = <&ak4458_1>, <&ak4458_2>;
    };
