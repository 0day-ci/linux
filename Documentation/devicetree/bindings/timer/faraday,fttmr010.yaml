# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/timer/faraday,fttmr010.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Faraday Technology timer

maintainers:
  - Linus Walleij <linus.walleij@linaro.org>

description: |
  This timer is a generic IP block from Faraday Technology, embedded in the
  Cortina Systems Gemini SoCs and other designs.

properties:
  compatible:
    oneOf:
      - const: faraday,fttmr010
      - items:
          - const: cortina,gemini-timer
          - const: faraday,fttmr010
      - items:
          - const: moxa,moxart-timer
          - const: faraday,fttmr010
      - const: aspeed,ast2400-timer
      - const: aspeed,ast2500-timer
      - const: aspeed,ast2600-timer

  reg:
    maxItems: 1

  resets:
    maxItems: 1

  interrupts:
    minItems: 1
    maxItems: 3
    description: Should contain the three timer interrupts usually with flags for falling edge

  clocks:
    minItems: 1
    maxItems: 2

  clock-names:
    minItems: 1
    items:
      - const: "PCLK"
      - const: "EXTCLK"

  syscon:
    $ref: /schemas/types.yaml#/definitions/phandle
    maxItems: 1

required:
  - compatible
  - reg
  - interrupts
  - clocks
  - clock-names

additionalProperties: false

examples:
  - |
    #include <dt-bindings/interrupt-controller/irq.h>
    /* taken from arch/arm/boot/dts/gemini.dtsi */
    timer@43000000 {
      compatible = "faraday,fttmr010";
      reg = <0x43000000 0x1000>;
      interrupts = <14 IRQ_TYPE_EDGE_FALLING>, /* Timer 1 */
                   <15 IRQ_TYPE_EDGE_FALLING>, /* Timer 2 */
                   <16 IRQ_TYPE_EDGE_FALLING>; /* Timer 3 */
      clocks = <&extclk>, <&pclk>;
      clock-names = "PCLK", "EXTCLK";
      syscon = <&syscon>;
    };
  - |
    #include <dt-bindings/interrupt-controller/irq.h>
    /* taken from arch/arm/boot/dts/moxart.dtsi */
    timer: timer@98400000 {
      compatible = "moxa,moxart-timer", "faraday,fttmr010";
      reg = <0x98400000 0x42>;
      interrupts = <19 IRQ_TYPE_EDGE_FALLING>;
      clocks = <&clk_apb>;
      clock-names = "PCLK";
    };
...
