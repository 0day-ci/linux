# SPDX-License-Identifier: (GPL-2.0+)
%YAML 1.2
---
$id: http://devicetree.org/schemas/timer/faraday,fttmr010.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Faraday Technology timer

maintainers:
  - Linus Walleij <linus.walleij@linaro.org>

description: |
  This timer is a generic IP block from Faraday Technology, embedded in the
  Cortina Systems Gemini SoCs and other designs.

properties:
  compatible:
    oneOf:
      - const: faraday,fttmr010
      - items:
          - const: cortina,gemini-timer
          - const: faraday,fttmr010
      - items:
          - const: moxa,moxart-timer
          - const: faraday,fttmr010
      - const: aspeed,ast2400-timer
      - const: aspeed,ast2500-timer
      - const: aspeed,ast2600-timer

  reg:
    maxItems: 1

  resets:
    maxItems: 1

  interrupts:
    maxItems: 3
    description: Should contain the three timer interrupts usually with flags for falling edge

  clocks:
    minItems: 2

  clock-names:
    items:
      - const: "PCLK"
      - const: "EXTCLK"

  syscon:
    $ref: /schemas/types.yaml#/definitions/phandle
    maxItems: 1

if:
  properties:
    compatible:
      contains:
        items:
          - const: cortina,gemini-timer
          - const: faraday,fttmr010
then:
  required:
    - syscon
else:
  properties:
    syscon: false

required:
  - compatible
  - reg
  - interrupts

additionalProperties: false

examples:
  - |
    #include <dt-bindings/interrupt-controller/irq.h>
    timer@43000000 {
      compatible = "faraday,fttmr010";
      reg = <0x43000000 0x1000>;
      interrupts = <14 IRQ_TYPE_EDGE_FALLING>, /* Timer 1 */
                   <15 IRQ_TYPE_EDGE_FALLING>, /* Timer 2 */
                   <16 IRQ_TYPE_EDGE_FALLING>; /* Timer 3 */
      clocks = <&extclk>, <&pclk>;
      clock-names = "PCLK", "EXTCLK";
      syscon = <&syscon>;
    };
...
