# SPDX-License-Identifier: (GPL-2.0 OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/input/qcom,pm8941-pwrkey.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Qualcomm PM8941 PMIC Power Key

maintainers:
  - Courtney Cavin <courtney.cavin@sonymobile.com>
  - Vinod Koul <vkoul@kernel.org>

properties:
  compatible:
    enum:
      - qcom,pm8941-pwrkey
      - qcom,pm8941-resin
      - qcom,pmk8350-pwrkey
      - qcom,pmk8350-resin

  interrupts:
    description: |
          Key change interrupt; The format of the specifier is
          defined by the binding document describing the node's
          interrupt parent.

  debounce:
    description: |
          Time in microseconds that key must be pressed or
          released for state change interrupt to trigger.
    $ref: /schemas/types.yaml#/definitions/uint32

  bias-pull-up:
    description: |
           Presence of this property indicates that the KPDPWR_N
           pin should be configured for pull up.
    $ref: /schemas/types.yaml#/definitions/flag

  linux,code:
    description: |
           The input key-code associated with the power key.
           Use the linux event codes defined in
           include/dt-bindings/input/linux-event-codes.h
           When property is omitted KEY_POWER is assumed.
    $ref: "input.yaml#"

required:
  - compatible
  - interrupts

additionalProperties: false

examples:
  - |
   #include <dt-bindings/interrupt-controller/irq.h>
   #include <dt-bindings/input/linux-event-codes.h>
   #include <dt-bindings/spmi/spmi.h>
   spmi_bus: spmi@c440000 {
     reg = <0x0c440000 0x1100>;
     #address-cells = <2>;
     #size-cells = <0>;
     pmk8350: pmic@0 {
       reg = <0x0 SPMI_USID>;
       #address-cells = <1>;
       #size-cells = <0>;
       pmk8350_pon: pon_hlos@1300 {
         reg = <0x1300>;
         compatible = "qcom,pm8998-pon";

         pwrkey {
            compatible = "qcom,pm8941-pwrkey";
            interrupts = < 0x0 0x8 0 IRQ_TYPE_EDGE_BOTH >;
            debounce = <15625>;
            bias-pull-up;
            linux,code = <KEY_POWER>;
         };

         resin {
            compatible = "qcom,pm8941-resin";
            interrupts = <0x0 0x8 1 IRQ_TYPE_EDGE_BOTH>;
            debounce = <15625>;
            bias-pull-up;
            linux,code = <KEY_VOLUMEDOWN>;
         };
       };
     };
   };
...
