# SPDX-License-Identifier: GPL-2.0
%YAML 1.2
---
$id: http://devicetree.org/schemas/leds/leds-multi-gpio.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Multiple GPIOs LED driver

maintainers:
  - Hermes Zhang <chenhuiz@axis.com>

description:
  This will support some LED made of multiple GPIOs and the brightness of the
  LED could map to different states of the GPIOs.

properties:
  compatible:
    const: multi-gpio-led

  led-gpios:
    description: Array of one or more GPIOs pins used to control the LED.
    minItems: 1
    maxItems: 8  # Should be enough

  led-states:
    description: |
      The array list the supported states here which will map to brightness
      from 0 to maximum. Each item in the array will present all the GPIOs
      value by bit.
    $ref: /schemas/types.yaml#/definitions/uint8-array
    minItems: 1
    maxItems: 256 # Should be enough

required:
  - compatible
  - led-gpios
  - led-states

additionalProperties: false

examples:
  - |
    gpios-led {
      compatible = "multi-gpio-led";

      led-gpios = <&gpio0 23 0x1>,
                  <&gpio0 24 0x1>;
      led-states = /bits/ 8 <0x00 0x01 0x02 0x03>;
    };
...
