# SPDX-License-Identifier: (GPL-2.0 OR BSD-2-Clause)
%YAML 1.2
---

$id: http://devicetree.org/schemas/hwmon/nuvoton,nct7802.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Nuvoton NCT7802Y Hardware Monitoring IC

maintainers:
  - Guenter Roeck <linux@roeck-us.net>

description: |
  The NCT7802Y is a hardware monitor IC which supports one on-die and up to
  5 remote temperature sensors with SMBus interface.

  Datasheets:
    https://www.nuvoton.com/export/resource-files/Nuvoton_NCT7802Y_Datasheet_V12.pdf

properties:
  compatible:
    enum:
      - nuvoton,nct7802

  reg:
    maxItems: 1

  temperature-sensors:
    type: object
    description:
      |
      Configuration for temperature sensors. If temperature-sensors
      is not provided at all, the internal temperature sensor will be
      enabled. If temperature-sensors is provided, only the listed
      sensors will be configured as specified. The runtime configuration
      for un-listed sensors will not be touched in the chip. This allows
      sensors to be configured at power-up time from an EEPROM connected
      to the chip and at the sime time allows to override these settings
      using device tree configuration.

    properties:
      ltd:
        type: object
        description: Internal Temperature Sensor ("LTD")

      rtd3:
        type: object
        description:
          |
          Remote Temperature Sensor ("RTD3"). This sensor only supports
          thermistor mode.

    patternProperties:
      "^rtd[1-2]$":
        type: object
        description: Remote Temperature Sensor ("RTDx")
        properties:
          "type":
            description: Sensor type (3=thermal diode, 4=thermistor).
            allOf:
              - $ref: "http://devicetree.org/schemas/types.yaml#/definitions/uint32"
              - items:
                  - enum: [ 3, 4 ]

required:
  - compatible
  - reg

additionalProperties: false

examples:
  - |
    i2c {
        #address-cells = <1>;
        #size-cells = <0>;

        nct7802@28 {
            compatible = "nuvoton,nct7802";
            reg = <0x28>;

            temperature-sensors {
                ltd {
                  status = "disabled";
                };

                rtd1 {
                  status = "okay";
                  type = <4> /* thermistor */;
                };
            };
        };
    };
