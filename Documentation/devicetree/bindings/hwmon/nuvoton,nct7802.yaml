# SPDX-License-Identifier: (GPL-2.0 OR BSD-2-Clause)
%YAML 1.2
---

$id: http://devicetree.org/schemas/hwmon/nuvoton,nct7802.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Nuvoton NCT7802Y Hardware Monitoring IC

maintainers:
  - Guenter Roeck <linux@roeck-us.net>

description: |
  The NCT7802Y is a hardware monitor IC which supports one on-die and up to
  5 remote temperature sensors with SMBus interface.

  Datasheets:
    https://www.nuvoton.com/export/resource-files/Nuvoton_NCT7802Y_Datasheet_V12.pdf

properties:
  compatible:
    enum:
      - nuvoton,nct7802

  reg:
    maxItems: 1

  "#address-cells":
    const: 1

  "#size-cells":
    const: 0

  channel@0:
    type: object
    description: Local Temperature Sensor ("LTD")
    properties:
      reg:
        const: 0
    required:
      - reg

  channel@1:
    type: object
    description: Remote Temperature Sensor or Voltage Sensor ("RTD1")
    properties:
      reg:
        const: 1
      sensor-type:
        items:
          - enum:
              - temperature
              - voltage
      temperature-mode:
        items:
          - enum:
              - thermistor
              - thermal-diode
    required:
      - reg
      - sensor-type

  channel@2:
    type: object
    description: Remote Temperature Sensor or Voltage Sensor ("RTD2")
    properties:
      reg:
        const: 2
      sensor-type:
        items:
          - enum:
              - temperature
              - voltage
      temperature-mode:
        items:
          - enum:
              - thermistor
              - thermal-diode
    required:
      - reg
      - sensor-type

  channel@3:
    type: object
    description: Remote Temperature Sensor or Voltage Sensor ("RTD3")
    properties:
      reg:
        const: 3
      sensor-type:
        items:
          - enum:
              - temperature
              - voltage
    required:
      - reg
      - sensor-type

required:
  - compatible
  - reg

additionalProperties: false

examples:
  - |
    i2c {
        #address-cells = <1>;
        #size-cells = <0>;

        nct7802@28 {
            compatible = "nuvoton,nct7802";
            reg = <0x28>;

            #address-cells = <1>;
            #size-cells = <0>;

            channel@0 { /* LTD */
              reg = <0>;
              status = "okay";
            };

            channel@1 { /* RTD1 */
              reg = <1>;
              status = "okay";
              sensor-type = "temperature";
              temperature-mode = "thermistor";
            };

            channel@2 { /* RTD2 */
              reg = <2>;
              status = "okay";
              sensor-type = "temperature";
              temperature-mode = "thermal-diode";
            };

            channel@3 { /* RTD3 */
              reg = <3>;
              status = "okay";
              sensor-type = "voltage";
            };
        };
    };
